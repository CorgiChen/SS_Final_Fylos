{"version":3,"sources":["assets\\Script\\Login.ts"],"names":[],"mappings":";;;;;AAAA,oBAAoB;AACpB,kFAAkF;AAClF,yFAAyF;AACzF,mBAAmB;AACnB,4FAA4F;AAC5F,mGAAmG;AACnG,8BAA8B;AAC9B,4FAA4F;AAC5F,mGAAmG;;;;;;;;;;;;;;;;;;;;;AAE7F,IAAA,KAAwB,EAAE,CAAC,UAAU,EAAnC,OAAO,aAAA,EAAE,QAAQ,cAAkB,CAAC;AAY5C;IAAmC,yBAAY;IAA/C;;IA2EA,CAAC;IAzEG,oCAAoC;IACpC,qDAAqD;IAErD,uBAAuB;IAEvB,qBAAK,GAAL;QACI,kCAAkC;QAClC,IAAI,CAAC,oBAAoB,EAAE,CAAC;QAE5B,kDAAkD;QAClD,0CAA0C;QAC1C,sBAAsB;QACtB,IAAI;IACR,CAAC;IAED;;OAEG;IACK,oCAAoB,GAA5B;QACI,EAAE,CAAC,IAAI,CAAC,sBAAsB,CAAC,CAAC,EAAE,CAC9B,EAAE,CAAC,IAAI,CAAC,SAAS,CAAC,UAAU,EAC5B,IAAI,CAAC,aAAa,EAClB,IAAI,CACP,CAAC;QAEF,EAAE,CAAC,IAAI,CAAC,wBAAwB,CAAC,CAAC,EAAE,CAChC,EAAE,CAAC,IAAI,CAAC,SAAS,CAAC,UAAU,EAC5B,IAAI,CAAC,QAAQ,EACb,IAAI,CACP,CAAC;IACN,CAAC;IAED;;OAEG;IACK,wBAAQ,GAAhB;QACI,IAAM,KAAK,GAAG,EAAE,CAAC,IAAI,CAAC,kCAAkC,CAAC,CAAC,YAAY,CAAC,EAAE,CAAC,KAAK,CAAC,CAAC,MAAM,CAAC;QACxF,IAAM,QAAQ,GAAG,EAAE,CAAC,IAAI,CAAC,qCAAqC,CAAC,CAAC,YAAY,CAAC,EAAE,CAAC,KAAK,CAAC,CAAC,MAAM,CAAC;QAE9F,QAAQ,CAAC,IAAI,EAAE,CAAC,0BAA0B,CAAC,KAAK,EAAE,QAAQ,CAAC;aACtD,IAAI,CAAC;YACF,KAAK,CAAC,eAAe,CAAC,CAAC;YACvB,IAAM,UAAU,GAAG,EAAE,CAAC,IAAI,CAAC,mBAAmB,CAAC,CAAC;YAChD,IAAI,UAAU,EAAE;gBACZ,UAAU,CAAC,YAAY,CAAC,mBAAmB,CAAC,CAAC,0BAA0B,CAAC,qBAAqB,CAAC,CAAC;aAClG;iBAAM;gBACH,EAAE,CAAC,QAAQ,CAAC,SAAS,CAAC,qBAAqB,CAAC,CAAC;aAChD;QACL,CAAC,CAAC;aACD,KAAK,CAAC,UAAC,KAAK;YACT,qBAAqB;YACrB,KAAK,CAAC,KAAK,CAAC,OAAO,CAAC,CAAC;QACzB,CAAC,CAAC,CAAC;IACX,CAAC;IAED;;OAEG;IACH,6BAAa,GAAb;QACI,IAAM,WAAW,GAAG,EAAE,CAAC,IAAI,CAAC,mBAAmB,CAAC,CAAC;QACjD,IAAI,WAAW,EAAE;YACb,WAAW,CAAC,YAAY,CAAC,mBAAmB,CAAC,CAAC,0BAA0B,CAAC,eAAe,CAAC,CAAC;SAC7F;aAAM;YACH,EAAE,CAAC,QAAQ,CAAC,SAAS,CAAC,eAAe,CAAC,CAAC;SAC1C;IACL,CAAC;IAnEgB,KAAK;QADzB,OAAO;OACa,KAAK,CA2EzB;IAAD,YAAC;CA3ED,AA2EC,CA3EkC,EAAE,CAAC,SAAS,GA2E9C;kBA3EoB,KAAK","file":"","sourceRoot":"/","sourcesContent":["// Learn TypeScript:\r\n//  - [Chinese] https://docs.cocos.com/creator/manual/zh/scripting/typescript.html\r\n//  - [English] http://www.cocos2d-x.org/docs/creator/manual/en/scripting/typescript.html\r\n// Learn Attribute:\r\n//  - [Chinese] https://docs.cocos.com/creator/manual/zh/scripting/reference/attributes.html\r\n//  - [English] http://www.cocos2d-x.org/docs/creator/manual/en/scripting/reference/attributes.html\r\n// Learn life-cycle callbacks:\r\n//  - [Chinese] https://docs.cocos.com/creator/manual/zh/scripting/life-cycle-callbacks.html\r\n//  - [English] http://www.cocos2d-x.org/docs/creator/manual/en/scripting/life-cycle-callbacks.html\r\n\r\nconst { ccclass, property } = cc._decorator;\r\n\r\n// Import firebase if using modules, or declare it if included via script tag\r\n// Uncomment the appropriate line below:\r\n\r\n// import * as firebase from \"firebase/app\";\r\n// import \"firebase/auth\";\r\n\r\n// OR, if firebase is included globally via a script tag:\r\ndeclare const firebase: any;\r\n\r\n@ccclass\r\nexport default class Login extends cc.Component {\r\n\r\n    // @property({ type: cc.AudioClip })\r\n    // bgm: cc.AudioClip = null; // Background music clip\r\n\r\n    // LIFE-CYCLE CALLBACKS\r\n\r\n    start() {\r\n        // Register button event listeners\r\n        this.registerButtonEvents();\r\n\r\n        // // Play background music if not already playing\r\n        // if (!cc.audioEngine.isMusicPlaying()) {\r\n        //     this.playBGM();\r\n        // }\r\n    }\r\n\r\n    /**\r\n     * Register mouse down events for buttons\r\n     */\r\n    private registerButtonEvents() {\r\n        cc.find(\"small_canvas_bg/quit\").on(\r\n            cc.Node.EventType.MOUSE_DOWN,\r\n            this.loadMenuScene,\r\n            this\r\n        );\r\n\r\n        cc.find(\"small_canvas_bg/submit\").on(\r\n            cc.Node.EventType.MOUSE_DOWN,\r\n            this.loginNow,\r\n            this\r\n        );\r\n    }\r\n\r\n    /**\r\n     * Handle user login with email and password\r\n     */\r\n    private loginNow() {\r\n        const email = cc.find(\"small_canvas_bg/email/TEXT_LABEL\").getComponent(cc.Label).string;\r\n        const password = cc.find(\"small_canvas_bg/password/TEXT_LABEL\").getComponent(cc.Label).string;\r\n\r\n        firebase.auth().signInWithEmailAndPassword(email, password)\r\n            .then(() => {\r\n                alert(\"Login Success\");\r\n                const transition = cc.find(\"Canvas/Transition\");\r\n                if (transition) {\r\n                    transition.getComponent(\"TransitionManager\").playTransOutAndChangeScene(\"Scene000_StartScene\");\r\n                } else {\r\n                    cc.director.loadScene(\"Scene000_StartScene\");\r\n                }\r\n            })\r\n            .catch((error) => {\r\n                // Show error message\r\n                alert(error.message);\r\n            });\r\n    }\r\n\r\n    /**\r\n     * Load the menu scene\r\n     */\r\n    loadMenuScene() {\r\n        const transition2 = cc.find(\"Canvas/Transition\");\r\n        if (transition2) {\r\n            transition2.getComponent(\"TransitionManager\").playTransOutAndChangeScene(\"Scene000_Menu\");\r\n        } else {\r\n            cc.director.loadScene(\"Scene000_Menu\");\r\n        }\r\n    }\r\n\r\n    // /**\r\n    //  * Play background music\r\n    //  */\r\n    // playBGM() {\r\n    //     cc.audioEngine.playMusic(this.bgm, true);\r\n    // }\r\n}\r\n"]}