{"version":3,"sources":["assets\\Script\\CameraController.ts"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;AAAM,IAAA,KAAwB,EAAE,CAAC,UAAU,EAAnC,OAAO,aAAA,EAAE,QAAQ,cAAkB,CAAC;AAG5C;IAA8C,oCAAY;IAA1D;QAAA,qEA6DC;QA3DG,YAAM,GAAY,IAAI,CAAC,CAAE,WAAW;QAGpC,iBAAW,GAAW,GAAG,CAAC,CAAE,UAAU;QAGtC,aAAO,GAAW,CAAC,CAAC,CAAE,QAAQ;QAG9B,aAAO,GAAW,CAAC,CAAC,CAAE,QAAQ;QAG9B,UAAI,GAAW,CAAC,IAAI,CAAC,CAAE,WAAW;QAGlC,UAAI,GAAW,IAAI,CAAC,CAAG,WAAW;QAGlC,UAAI,GAAW,CAAC,IAAI,CAAC,CAAE,WAAW;QAGlC,UAAI,GAAW,IAAI,CAAC,CAAG,WAAW;QAE1B,YAAM,GAAc,IAAI,CAAC;;IAoCrC,CAAC;IAlCG,iCAAM,GAAN;QACI,SAAS;QACT,IAAI,CAAC,MAAM,GAAG,IAAI,CAAC,YAAY,CAAC,EAAE,CAAC,MAAM,CAAC,CAAC;QAC3C,IAAI,CAAC,IAAI,CAAC,MAAM,EAAE;YACd,IAAI,CAAC,MAAM,GAAG,IAAI,CAAC,YAAY,CAAC,EAAE,CAAC,MAAM,CAAC,CAAC;SAC9C;QAED,SAAS;QACT,IAAI,CAAC,MAAM,CAAC,eAAe,GAAG,EAAE,CAAC,KAAK,CAAC,KAAK,CAAC;QAC7C,IAAI,CAAC,MAAM,CAAC,SAAS,GAAG,CAAC,CAAC;IAC9B,CAAC;IAED,iCAAM,GAAN,UAAO,EAAU;QACb,IAAI,CAAC,IAAI,CAAC,MAAM;YAAE,OAAO;QAEzB,SAAS;QACT,IAAI,OAAO,GAAG,IAAI,CAAC,MAAM,CAAC,CAAC,GAAG,IAAI,CAAC,OAAO,CAAC;QAC3C,IAAI,OAAO,GAAG,IAAI,CAAC,MAAM,CAAC,CAAC,GAAG,IAAI,CAAC,OAAO,CAAC;QAE3C,SAAS;QACT,OAAO,GAAG,EAAE,CAAC,IAAI,CAAC,MAAM,CAAC,OAAO,EAAE,IAAI,CAAC,IAAI,EAAE,IAAI,CAAC,IAAI,CAAC,CAAC;QACxD,OAAO,GAAG,EAAE,CAAC,IAAI,CAAC,MAAM,CAAC,OAAO,EAAE,IAAI,CAAC,IAAI,EAAE,IAAI,CAAC,IAAI,CAAC,CAAC;QAExD,SAAS;QACT,IAAI,UAAU,GAAG,IAAI,CAAC,IAAI,CAAC,QAAQ,CAAC;QACpC,IAAI,SAAS,GAAG,EAAE,CAAC,EAAE,CAAC,OAAO,EAAE,OAAO,EAAE,UAAU,CAAC,CAAC,CAAC,CAAC;QAEtD,iBAAiB;QACjB,IAAI,CAAC,IAAI,CAAC,QAAQ,GAAG,EAAE,CAAC,EAAE,CACtB,EAAE,CAAC,IAAI,CAAC,IAAI,CAAC,UAAU,CAAC,CAAC,EAAE,SAAS,CAAC,CAAC,EAAE,IAAI,CAAC,WAAW,CAAC,EACzD,EAAE,CAAC,IAAI,CAAC,IAAI,CAAC,UAAU,CAAC,CAAC,EAAE,SAAS,CAAC,CAAC,EAAE,IAAI,CAAC,WAAW,CAAC,EACzD,UAAU,CAAC,CAAC,CACf,CAAC;IACN,CAAC;IA1DD;QADC,QAAQ,CAAC,EAAE,CAAC,IAAI,CAAC;oDACK;IAGvB;QADC,QAAQ;yDACiB;IAG1B;QADC,QAAQ;qDACW;IAGpB;QADC,QAAQ;qDACW;IAGpB;QADC,QAAQ;kDACY;IAGrB;QADC,QAAQ;kDACW;IAGpB;QADC,QAAQ;kDACY;IAGrB;QADC,QAAQ;kDACW;IAvBH,gBAAgB;QADpC,OAAO;OACa,gBAAgB,CA6DpC;IAAD,uBAAC;CA7DD,AA6DC,CA7D6C,EAAE,CAAC,SAAS,GA6DzD;kBA7DoB,gBAAgB","file":"","sourceRoot":"/","sourcesContent":["const { ccclass, property } = cc._decorator;\r\n\r\n@ccclass\r\nexport default class CameraController extends cc.Component {\r\n    @property(cc.Node)\r\n    target: cc.Node = null;  // 跟隨目標（玩家）\r\n\r\n    @property\r\n    smoothSpeed: number = 0.1;  // 相機移動平滑度\r\n\r\n    @property\r\n    offsetX: number = 0;  // X軸偏移量\r\n\r\n    @property\r\n    offsetY: number = 0;  // Y軸偏移量\r\n\r\n    @property\r\n    minX: number = -1000;  // 相機X軸最小範圍\r\n\r\n    @property\r\n    maxX: number = 1000;   // 相機X軸最大範圍\r\n\r\n    @property\r\n    minY: number = -1000;  // 相機Y軸最小範圍\r\n\r\n    @property\r\n    maxY: number = 1000;   // 相機Y軸最大範圍\r\n\r\n    private camera: cc.Camera = null;\r\n\r\n    onLoad() {\r\n        // 獲取相機組件\r\n        this.camera = this.getComponent(cc.Camera);\r\n        if (!this.camera) {\r\n            this.camera = this.addComponent(cc.Camera);\r\n        }\r\n\r\n        // 設置相機屬性\r\n        this.camera.backgroundColor = cc.Color.BLACK;\r\n        this.camera.zoomRatio = 1;\r\n    }\r\n\r\n    update(dt: number) {\r\n        if (!this.target) return;\r\n\r\n        // 計算目標位置\r\n        let targetX = this.target.x + this.offsetX;\r\n        let targetY = this.target.y + this.offsetY;\r\n\r\n        // 限制相機範圍\r\n        targetX = cc.misc.clampf(targetX, this.minX, this.maxX);\r\n        targetY = cc.misc.clampf(targetY, this.minY, this.maxY);\r\n\r\n        // 平滑移動相機\r\n        let currentPos = this.node.position;\r\n        let targetPos = cc.v3(targetX, targetY, currentPos.z);\r\n        \r\n        // 使用 lerp 實現平滑移動\r\n        this.node.position = cc.v3(\r\n            cc.misc.lerp(currentPos.x, targetPos.x, this.smoothSpeed),\r\n            cc.misc.lerp(currentPos.y, targetPos.y, this.smoothSpeed),\r\n            currentPos.z\r\n        );\r\n    }\r\n} "]}