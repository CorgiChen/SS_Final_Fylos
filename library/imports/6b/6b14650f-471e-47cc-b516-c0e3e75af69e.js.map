{"version":3,"sources":["assets\\Script\\TransitionManager.ts"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;AAAM,IAAA,KAAwB,EAAE,CAAC,UAAU,EAAnC,OAAO,aAAA,EAAE,QAAQ,cAAkB,CAAC;AAG5C;IAA+C,qCAAY;IAA3D;QAAA,qEAiCC;QA/BG,oBAAc,GAAiB,IAAI,CAAC;;IA+BxC,CAAC;IA7BG,kCAAM,GAAN;QACI,IAAI,CAAC,WAAW,EAAE,CAAC;IACvB,CAAC;IAED,uCAAW,GAAX;QACI,IAAI,IAAI,CAAC,cAAc,EAAE;YACrB,IAAI,CAAC,cAAc,CAAC,IAAI,CAAC,SAAS,CAAC,CAAC;SACvC;IACL,CAAC;IAED,sDAA0B,GAA1B,UAA2B,SAAiB;QACxC,IAAI,IAAI,CAAC,cAAc,EAAE;YACrB,IAAI,CAAC,cAAc,CAAC,IAAI,CAAC,UAAU,CAAC,CAAC;YACrC,IAAI,CAAC,cAAc,CAAC,IAAI,CAAC,UAAU,EAAE;gBACjC,EAAE,CAAC,QAAQ,CAAC,SAAS,CAAC,SAAS,CAAC,CAAC;YACrC,CAAC,CAAC,CAAC;SACN;aAAM;YACH,EAAE,CAAC,QAAQ,CAAC,SAAS,CAAC,SAAS,CAAC,CAAC;SACpC;IACL,CAAC;IAED,kCAAM,GAAN;QACI,uCAAuC;QACvC,IAAM,MAAM,GAAG,EAAE,CAAC,QAAQ,CAAC,QAAQ,EAAE,CAAC,cAAc,CAAC,QAAQ,CAAC,CAAC,cAAc,CAAC,aAAa,CAAC,CAAC;QAC7F,IAAI,MAAM,EAAE;YACR,IAAI,CAAC,IAAI,CAAC,CAAC,GAAG,MAAM,CAAC,CAAC,CAAC;YACvB,IAAI,CAAC,IAAI,CAAC,CAAC,GAAG,MAAM,CAAC,CAAC,CAAC;SAC1B;IACL,CAAC;IA9BD;QADC,QAAQ,CAAC,EAAE,CAAC,SAAS,CAAC;6DACa;IAFnB,iBAAiB;QADrC,OAAO;OACa,iBAAiB,CAiCrC;IAAD,wBAAC;CAjCD,AAiCC,CAjC8C,EAAE,CAAC,SAAS,GAiC1D;kBAjCoB,iBAAiB","file":"","sourceRoot":"/","sourcesContent":["const { ccclass, property } = cc._decorator;\r\n\r\n@ccclass\r\nexport default class TransitionManager extends cc.Component {\r\n    @property(cc.Animation)\r\n    transitionAnim: cc.Animation = null;\r\n\r\n    onLoad() {\r\n        this.playTransIn();\r\n    }\r\n\r\n    playTransIn() {\r\n        if (this.transitionAnim) {\r\n            this.transitionAnim.play('TransIn');\r\n        }\r\n    }\r\n\r\n    playTransOutAndChangeScene(sceneName: string) {\r\n        if (this.transitionAnim) {\r\n            this.transitionAnim.play('TransOut');\r\n            this.transitionAnim.once('finished', () => {\r\n                cc.director.loadScene(sceneName);\r\n            });\r\n        } else {\r\n            cc.director.loadScene(sceneName);\r\n        }\r\n    }\r\n\r\n    update() {\r\n        // 讓 Transition 節點跟隨 Main Camera 的 x, y\r\n        const camera = cc.director.getScene().getChildByName('Canvas').getChildByName('Main Camera');\r\n        if (camera) {\r\n            this.node.x = camera.x;\r\n            this.node.y = camera.y;\r\n        }\r\n    }\r\n} "]}